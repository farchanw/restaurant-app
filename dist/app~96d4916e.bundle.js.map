{"version":3,"file":"app~96d4916e.bundle.js","mappings":";4iEAAMA,EAAAA,SAAAA,2iBACJ,WACEC,KAAKC,GAAKD,KAAKE,aAAa,OAAS,GACrCF,KAAKG,KAAOH,KAAKE,aAAa,SAAW,GACzCF,KAAKI,MAAQJ,KAAKE,aAAa,UAAY,GAC3CF,KAAKK,KAAOL,KAAKE,aAAa,SAAW,GACzCF,KAAKM,YAAcN,KAAKE,aAAa,gBAAkB,GAEvDF,KAAKO,UAAL,kCACoBP,KAAKC,GADzB,kDAEoBD,KAAKC,GAFzB,yEAGwDD,KAAKI,MAH7D,kBAG4EJ,KAAKG,KAHjF,8EAK8BH,KAAKK,KALnC,2EAOuCL,KAAKG,KAP5C,iCAQaH,KAAKM,YARlB,qDAaD,sFArBGP,GAAuBS,cAuB7BC,eAAeC,OAAO,sBAAuBX,29DCvBvCY,EAAAA,SAAAA,2iBACJ,WACEX,KAAKG,KAAOH,KAAKE,aAAa,SAAW,GACzCF,KAAKY,KAAOZ,KAAKE,aAAa,SAAW,GACzCF,KAAKa,OAASb,KAAKE,aAAa,WAAa,GAE7CF,KAAKO,UAAL,0HAGgCP,KAAKG,KAHrC,qDAIgCH,KAAKY,KAJrC,+EAMsCZ,KAAKa,OAN3C,iCASD,sFAfGF,GAAmBH,cAiBzBC,eAAeC,OAAO,kBAAmBC,kGCbnCG,iBAAqC,SAACD,GAAD,6CAEjCA,EAAOV,KAF0B,sBAGjCU,EAAOD,KAH0B,wBAI/BC,EAAOA,OAJwB,8BAQrCE,EAAiC,SAACC,GAAD,+CACRA,EAAWb,KADH,uDAEAc,EAAAA,EAAAA,eAFA,iBAE8BD,EAAWE,UAFzC,kBAE4DF,EAAWb,KAFvE,wIAQ5Ba,EAAWX,KARiB,iDAU5BW,EAAWG,QAViB,iDAY5BH,EAAWI,OAZiB,mDAc5BJ,EAAWK,WAAWC,KAAI,SAACC,GAAD,OAAcA,EAASpB,IAAvB,IAA6BqB,KAAK,MAdhC,iGAoBhCR,EAAWV,YApBqB,4IA2B5BU,EAAWS,MAAMC,MAAMJ,KAAI,SAACK,GAAD,OAAUA,EAAKxB,IAAf,IAAqBqB,KAAK,MA3BzB,gDA6B5BR,EAAWS,MAAMG,OAAON,KAAI,SAACO,GAAD,OAAWA,EAAM1B,IAAjB,IAAuBqB,KAAK,MA7B5B,8SA0CjCR,EAAWc,gBAAgBC,UAAUT,KAAI,SAACT,GAAD,OAAYC,EAAmCD,EAA/C,IAAwDW,KAAK,IA1CrE,yBA+CjCQ,EAA+B,SAAChB,GAAD,8CAE7BA,EAAWf,GAFkB,sBAG3Be,EAAWb,KAHgB,uBAI1Bc,EAAAA,EAAAA,eAJ0B,iBAIID,EAAWE,UAJf,sBAK3BF,EAAWX,KALgB,6BAMpBW,EAAWV,YANS,iCAU/B2B,EAA2B,sKAM3BC,EAA6B,oeC1EnC,4gGAAAC,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,0oDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qiBAmCA,QA/BMC,WACJ,cAAyC,IAA3BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,qGAAW,SACvCvC,KAAKwC,QAAUH,EACfrC,KAAKyC,QAAUH,EACftC,KAAK0C,SAAWH,EAEhBvC,KAAK2C,kBACN,2DAED,WACEC,EAAAA,EAAAA,KAAqB,CACnBP,OAAQrC,KAAKwC,QACbF,OAAQtC,KAAKyC,QACbF,QAASvC,KAAK0C,UAEjB,wCAED,6FACQG,EAAMC,EAAAA,EAAAA,6BACNC,EAAOC,EAAAA,EAAOH,GAFtB,SAGkCE,EAAKE,SAHvC,cAGEjD,KAAK0C,SAASnC,UAHhB,gBAIQwC,EAAKG,cAJb,OAMuBC,SAASC,cAAc,cAC/BC,iBAAiB,SAAS,SAACC,GACtCA,EAAMC,iBACNJ,SAASC,cAAc,YAAYI,OACpC,IAVH,gWAjBIpB,oVCJN,4gGAAAD,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,0oDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,kkBAsEA,QAjEe,CACPc,OADO,WACE,6bAcd,EAEKC,YAjBO,WAiBO,sHACZL,EAAMC,EAAAA,EAAAA,gCADM,SAEOW,EAAAA,EAAAA,OAAkBZ,EAAI5C,IAF7B,UAEZe,EAFY,OAGZ0C,EAAsBP,SAASC,cAAc,gBAC9CpC,EAAW2C,QAJE,gBAKhBD,EAAoBnD,WAAYQ,EAAAA,EAAAA,IAA+BC,GAL/C,8BAOhB0C,EAAoBnD,UAApB,iDAA0ES,EAAW2C,QAArF,UAPgB,2BAWZC,EAAaT,SAASC,cAAc,kBACpCS,EAAaV,SAASC,cAAc,gBAE1CQ,EAAWP,iBAAiB,UAAU,SAACC,GACrCA,EAAMC,iBACN,IAAMO,EAAaR,EAAMS,OAAO5D,KAAK6D,MAC/BC,EAAaX,EAAMS,OAAOG,KAAKF,MAE/BG,EAAa,CACjBlE,GAAI4C,EAAI5C,GACRE,KAAM2D,EACNjD,OAAQoD,GAGVG,MAAM,GAAD,OAAInD,EAAAA,EAAAA,SAAJ,UAA6B,CAChCoD,OAAQ,OACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,oBAGlBC,KAAMC,KAAKC,UAAUP,KAEpBQ,MAAK,SAACC,GAAD,OAAcA,EAASC,OAAOF,MAAK,SAACG,GACnCA,EAAaC,QAChBlB,EAAWtD,UAAYuE,EAAahD,gBAAgBC,UAAUT,KAAI,SAACT,GAAD,OAAYC,EAAAA,EAAAA,IAAmCD,EAA/C,IAAwDW,KAAK,IAElI,GAJK,GAKT,IAEDwD,EAAAA,EAAAA,KAAyB,CACvBC,oBAAqB9B,SAASC,cAAc,wBAC5CpC,WAAAA,IA3CgB,6CA6CnB","sources":["webpack://restaurant-apps/./src/templates/restaurant-item.js","webpack://restaurant-apps/./src/templates/review-item.js","webpack://restaurant-apps/./src/templates/template-creator.js","webpack://restaurant-apps/./src/views/app.js","webpack://restaurant-apps/./src/views/detail.js"],"sourcesContent":["class RestaurantItem extends HTMLElement {\n  connectedCallback() {\n    this.id = this.getAttribute('id') || '';\n    this.name = this.getAttribute('name') || '';\n    this.image = this.getAttribute('image') || '';\n    this.city = this.getAttribute('city') || '';\n    this.description = this.getAttribute('description') || '';\n\n    this.innerHTML = `\n    <article id=\"item-${this.id}\" class=\"card\">\n    <a href=\"#/detail/${this.id}\">\n        <img loading=\"lazy\" width=\"400\" height=\"400\" src=\"${this.image}\" alt=\"${this.name}\">\n        <div class=\"content\">\n            <span class=\"badge\">${this.city}</span>\n            \n            <h1 class=\"restaurant-title\">${this.name}</h1>\n            <p>${this.description}</p>\n        </div>\n    </a>\n</article>\n      `;\n  }\n}\ncustomElements.define('app-restaurant-item', RestaurantItem);\n","class ReviewItem extends HTMLElement {\n  connectedCallback() {\n    this.name = this.getAttribute('name') || '';\n    this.date = this.getAttribute('date') || '';\n    this.review = this.getAttribute('review') || '';\n\n    this.innerHTML = `\n        <div class=\"review-item\">\n            <div class=\"review-header\">\n                <div class=\"name\">${this.name}</div>\n                <div class=\"date\">${this.date}</div>\n            </div>\n            <div class=\"review-content\">${this.review}</div>\n        </div>\n      `;\n  }\n}\ncustomElements.define('app-review-item', ReviewItem);\n","import CONFIG from '../scripts/globals/config';\nimport './restaurant-item';\nimport './review-item';\n\nconst createRestaurantReviewItemTemplate = (review) => `\n<app-review-item \n  name=\"${review.name}\"\n  date=\"${review.date}\"\n  review=\"${review.review}\">\n</app-review-item>\n`;\n\nconst createRestaurantDetailTemplate = (restaurant) => `\n<h2 class=\"restaurant-title\">${restaurant.name}</h2>\n<img class=\"restaurant__poster\" src=\"${CONFIG.BASE_IMAGE_URL}small/${restaurant.pictureId}\" alt=\"${restaurant.name}\" />\n\n<div class=\"restaurant-info\">\n  <h3>Informasi</h3>\n  <div class=\"restaurant-infobox\">\n    <h4>Kota</h4>\n    <div>${restaurant.city}</div>\n    <h4>Alamat</h4>\n    <div>${restaurant.address}</div>\n    <h4>Rating</h4>\n    <div>${restaurant.rating}</div>\n    <h4>Kategori</h4>\n    <div>${restaurant.categories.map((category) => category.name).join(', ')}</div>\n  </div>\n</div>\n\n<div class=\"restaurant-info\">\n  <h3>Deskripsi</h3>\n  <p>${restaurant.description}</p>\n</div>\n\n<div class=\"restaurant-info\">\n  <h3>Menu</h3>\n  <div class=\"restaurant-infobox\">\n    <h4>Makan</h4>\n    <div>${restaurant.menus.foods.map((food) => food.name).join(', ')}</div>\n    <h4>Minum</h4>\n    <div>${restaurant.menus.drinks.map((drink) => drink.name).join(', ')}</div>\n  </div>\n</div>\n\n<div class=\"restaurant-info\">\n  <h3>Review</h3>\n  <form id=\"review-submit\">\n    <input name=\"name\" placeholder=\"Nama\">\n    <textarea name=\"text\" placeholder=\"Tulis review...\"></textarea>\n    <button>Kirim</button>\n  </form>\n\n  <div id=\"review-list\">\n    ${restaurant.customerReviews.reverse().map((review) => createRestaurantReviewItemTemplate(review)).join('')}\n  </div>\n</div>\n`;\n\nconst createRestaurantItemTemplate = (restaurant) => `\n<app-restaurant-item\n  id=\"${restaurant.id}\"\n  name=\"${restaurant.name}\"\n  image=\"${CONFIG.BASE_IMAGE_URL}small/${restaurant.pictureId}\"\n  city=\"${restaurant.city}\"\n  description=\"${restaurant.description}\">\n</app-restaurant-item>\n`;\n\nconst createLikeButtonTemplate = () => `\n  <button aria-label=\"like this restaurant\" id=\"likeButton\" class=\"like\">\n     <i class=\"fa fa-heart-o\" aria-hidden=\"true\"></i>\n  </button>\n`;\n\nconst createUnlikeButtonTemplate = () => `\n  <button aria-label=\"unlike this restaurant\" id=\"likeButton\" class=\"like\">\n    <i class=\"fa fa-heart\" aria-hidden=\"true\"></i>\n  </button>\n`;\n\nexport {\n  createRestaurantItemTemplate,\n  createRestaurantDetailTemplate,\n  createLikeButtonTemplate,\n  createUnlikeButtonTemplate,\n  createRestaurantReviewItemTemplate,\n};\n","/* eslint-disable no-underscore-dangle */\nimport DrawerInitiator from '../scripts/utils/drawer-initiator';\nimport UrlParser from '../scripts/routes/url-parser';\nimport routes from '../scripts/routes/routes';\n\nclass App {\n  constructor({ button, drawer, content }) {\n    this._button = button;\n    this._drawer = drawer;\n    this._content = content;\n\n    this._initialAppShell();\n  }\n\n  _initialAppShell() {\n    DrawerInitiator.init({\n      button: this._button,\n      drawer: this._drawer,\n      content: this._content,\n    });\n  }\n\n  async renderPage() {\n    const url = UrlParser.parseActiveUrlWithCombiner();\n    const page = routes[url];\n    this._content.innerHTML = await page.render();\n    await page.afterRender();\n\n    const skipLinkElem = document.querySelector('.skip-link');\n    skipLinkElem.addEventListener('click', (event) => {\n      event.preventDefault();\n      document.querySelector('#primary').focus();\n    });\n  }\n}\n\nexport default App;\n","import UrlParser from '../scripts/routes/url-parser';\nimport DataSource from '../scripts/data/source';\nimport { createRestaurantDetailTemplate, createRestaurantReviewItemTemplate } from '../templates/template-creator';\nimport LikeButtonPresenter from '../scripts/utils/like-button-presenter';\nimport CONFIG from '../scripts/globals/config';\n\nconst Detail = {\n  async render() {\n    return `\n    <main id=\"primary\" tabindex=\"0\">\n\n      <section id=\"content-box\" class=\"container\">\n        <div class=\"text-center\">\n          <div class=\"spinner\"></div>\n        </div>\n      </section>\n    \n      <div id=\"likeButtonContainer\"></div>\n    </main>\n    \n    `;\n  },\n\n  async afterRender() {\n    const url = UrlParser.parseActiveUrlWithoutCombiner();\n    const restaurant = await DataSource.detail(url.id);\n    const restaurantContainer = document.querySelector('#content-box');\n    if (!restaurant.message) {\n      restaurantContainer.innerHTML = createRestaurantDetailTemplate(restaurant);\n    } else {\n      restaurantContainer.innerHTML = `<div class=\"alert\">Terjadi kesalahan:  ${restaurant.message}</div>`;\n      return;\n    }\n\n    const reviewForm = document.querySelector('#review-submit');\n    const reviewList = document.querySelector('#review-list');\n\n    reviewForm.addEventListener('submit', (event) => {\n      event.preventDefault();\n      const reviewName = event.target.name.value;\n      const reviewText = event.target.text.value;\n\n      const reviewData = {\n        id: url.id,\n        name: reviewName,\n        review: reviewText,\n      };\n\n      fetch(`${CONFIG.BASE_URL}review`, {\n        method: 'post',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n\n        body: JSON.stringify(reviewData),\n      })\n        .then((response) => response.json().then((responseJson) => {\n          if (!responseJson.error) {\n            reviewList.innerHTML = responseJson.customerReviews.reverse().map((review) => createRestaurantReviewItemTemplate(review)).join('');\n          }\n        }));\n    });\n\n    LikeButtonPresenter.init({\n      likeButtonContainer: document.querySelector('#likeButtonContainer'),\n      restaurant,\n    });\n  },\n};\n\nexport default Detail;\n"],"names":["RestaurantItem","this","id","getAttribute","name","image","city","description","innerHTML","HTMLElement","customElements","define","ReviewItem","date","review","createRestaurantReviewItemTemplate","createRestaurantDetailTemplate","restaurant","CONFIG","pictureId","address","rating","categories","map","category","join","menus","foods","food","drinks","drink","customerReviews","reverse","createRestaurantItemTemplate","createLikeButtonTemplate","createUnlikeButtonTemplate","i","App","button","drawer","content","_button","_drawer","_content","_initialAppShell","DrawerInitiator","url","UrlParser","page","routes","render","afterRender","document","querySelector","addEventListener","event","preventDefault","focus","DataSource","restaurantContainer","message","reviewForm","reviewList","reviewName","target","value","reviewText","text","reviewData","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","responseJson","error","LikeButtonPresenter","likeButtonContainer"],"sourceRoot":""}